<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <title>Wyam - Razor</title>
        <meta name="description" content="Wyam is a simple to use, highly modular, and extremely configurable static content generator.">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link href="/Content/bootstrap.min.css" rel="stylesheet">
        <link href="/Content/prettify.css" rel="stylesheet">
        <link href="/Content/github.css" rel="stylesheet">
        <link href="/Content/master.css" rel="stylesheet">
        <script src="/Scripts/jquery-2.1.1.min.js"></script>
        <script src="/Scripts/bootstrap.min.js"></script>    
        <script src="/Scripts/tinynav.min.js"></script>        
        <script src="/Scripts/prettify.js"></script>
        <!--[if lt IE 9]>
        <script src="/Scripts/html5shiv.min.js"></script>
        <script src="/Scripts/respond.min.js"></script>
        <![endif]-->  
    </head>
    <body onload="prettyPrint()">        
        <nav class="navbar navbar-default navbar-static-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-main">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand hidden-sm" href="/"><img alt="Wyam" src="/Content/Images/nav-logo.png"></a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-main">
              <ul class="nav navbar-nav">
                
                    <li><a href="/getting-started">Getting Started</a></li>
                    <li class="active"><a href="/modules">Modules</a></li>
                    <li><a href="/api">API</a></li>
                    <li><a href="/knowledgebase">Knowledgebase</a></li>
                    <li><a href="/community">Community</a></li>
                    <li><a href="/faq">FAQ</a></li>
              </ul>              
              <ul class="nav navbar-nav navbar-right hidden-xs hidden-sm">                
                <li><a href="https://github.com/Wyamio/Wyam">GitHub</a></li>
              </ul>
            </div>
          </div>
        </nav>
        
            <div class="jumbotron jumbotron-title">
    	       <div class="container">
                   <h1>Razor</h1>
               </div>
            </div>
        

            <div class="container">
                <div class="row">
                    <div class="col-md-3">                        
                        <ul class="nav nav-pills nav-stacked" id="sub-nav">
                                <li><a href="/modules/append">Append</a></li>
                                <li><a href="/modules/autolink">AutoLink</a></li>
                                <li><a href="/modules/branch">Branch</a></li>
                                <li><a href="/modules/concat">Concat</a></li>
                                <li><a href="/modules/concatdocuments">ConcatDocuments</a></li>
                                <li><a href="/modules/content">Content</a></li>
                                <li><a href="/modules/copyfiles">CopyFiles</a></li>
                                <li><a href="/modules/documents">Documents</a></li>
                                <li><a href="/modules/excerpt">Excerpt</a></li>
                                <li><a href="/modules/execute">Execute</a></li>
                                <li><a href="/modules/foreach">ForEach</a></li>
                                <li><a href="/modules/frontmatter">FrontMatter</a></li>
                                <li><a href="/modules/if">If</a></li>
                                <li><a href="/modules/image">Image</a></li>
                                <li><a href="/modules/less">Less</a></li>
                                <li><a href="/modules/markdown">Markdown</a></li>
                                <li><a href="/modules/meta">Meta</a></li>
                                <li><a href="/modules/prepend">Prepend</a></li>
                                <li class="active"><a href="/modules/razor">Razor</a></li>
                                <li><a href="/modules/readfiles">ReadFiles</a></li>
                                <li><a href="/modules/replace">Replace</a></li>
                                <li><a href="/modules/replacein">ReplaceIn</a></li>
                                <li><a href="/modules/trace">Trace</a></li>
                                <li><a href="/modules/where">Where</a></li>
                                <li><a href="/modules/writefiles">WriteFiles</a></li>
                                <li><a href="/modules/yaml">Yaml</a></li>
                        </ul>
                        <hr class="hidden-md hidden-lg">
                    </div>
                    <div class="col-md-9">
                        <p>Razor is the templating language used by ASP.NET MVC. This module can parse and compile Razor templates and then render them to HTML. While a bit outdated, <a href="http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx/">this guide</a> is a good quick reference for the Razor language syntax.</p>
<p>This module is based on the Razor code in the forthcoming ASP.NET 5 (vNext). It was written from the ground-up and doesn't use an intermediate library like <a href="https://github.com/Antaris/RazorEngine">RazorEngine</a> (which is a great library, implementing directly just provides more control). Note that for now, TagHelpers are not implemented in Wyam. Their <a href="/api/index.html">API</a> is still changing and it would have been too difficult to keep up. Support for TagHelpers may be introduced once ASP.NET MVC 5 becomes more stable.</p>
<p>Whenever possible, the same conventions as the Razor engine in ASP.NET MVC were used. It's important to keep in mind however, that this is <em>not</em> ASP.NET MVC. Many features you may be used to will not work (like most of the <code>HtmlHelper</code> extensions) and others just don't make sense (like the concept of <em>actions</em> and <em>controllers</em>). Also, while property names and classes in the two engines have similar names (such as <code>HtmlHelper</code>) they are not the same, and code intended to extend the capabilities of Razor in ASP.NET MVC probably won't work. That said, a lot of functionality does function the same as it does in ASP.NET MVC.</p>
<h1>Usage</h1>
<hr>
<ul>
<li>
<p><code>Razor(Type basePageType = null)</code></p>
<p>Parses Razor templates in each input document and outputs documents with rendered HTML content. If <code>basePageType</code> is specified, it will be used as the base type for Razor pages (see below).</p>
</li>
</ul>
<h2>Fluent Methods</h2>
<p>Chain these methods together after the constructor to modify behavior.</p>
<ul>
<li>
<p><code>SetViewStart(string path)</code></p>
<p>Specifies an alternate ViewStart file to use for all Razor pages processed by this module.</p>
</li>
<li>
<p><code>SetViewStart(Func&lt;<a href="/api/idocument.html">IDocument</a>, string&gt; path)</code></p>
<p>Specifies an alternate ViewStart file to use for all Razor pages processed by this module. This lets you specify a different ViewStart file for each document. For example, you could return a ViewStart based on document location or document metadata. Returning <code>null</code> from the function reverts back to the default ViewStart search behavior for that document.</p>
</li>
<li>
<p><code>IgnorePrefix(string prefix)</code></p>
<p>Specifies a file prefix to ignore. If a document has a metadata value for <code>SourceFileName</code> and that metadata value starts with the specified prefix, that document will not be processed or output by the module. By default, the Razor module ignores all documents prefixed with an underscore (<code>_</code>). Specifying <code>null</code> will result in no documents being ignored.</p>
</li>
</ul>
<h2>View Model</h2>
<p>The view model for each page is set to the <code><a href="/api/imetadata.html">IMetadata</a></code> of the input document. This allows you to write statements like <code>@Model.Get&lt;string&gt;("MyMetadataKey")</code>.</p>
<h2>View Properties</h2>
<p>You also have access to other Wyam information from your view. The following properties are available on every page:</p>
<ul>
<li>
<p><code>Metadata</code></p>
<p>Contains the metadata of the current document. This is the same as <code>Model</code>.</p>
</li>
<li>
<p><code>ExecutionContext</code></p>
<p>Contains the Wyam <code><a href="/api/iexecutioncontext.html">IExecutionContext</a></code> which has information about the currently executing Wyam pipeline.</p>
</li>
<li>
<p><code>Documents</code></p>
<p>Contains the Wyam <code><a href="/api/idocumentcollection.html">IDocumentCollection</a></code> which holds all processed documents and provides various means of accessing them.</p>
</li>
</ul>
<h2>ViewStart</h2>
<p>You can place common Razor code to be executed at the start of every Razor page in a <code>_ViewStart.cshtml</code> file. This is typically used to specify a layout page.</p>
<h2>Layouts</h2>
<p>Layouts function much the same way as they do in ASP.NET MVC. Typically you place your layout code in a <code>_Layout.cshtml</code> file (though it can be named anything) and then set it in the <code>_ViewStart.cshtml</code> file. You can use <code>@RenderBody()</code> and <code>@RenderSection()</code> just as you would in ASP.NET MVC.</p>
<h2>Partials</h2>
<p>Partials also work as they do in ASP.NET MVC. Just use <code>@Html.Partial("_PartialName")</code> or <code>@Html.RenderPartial("_PartialName")</code>. Note that you can't pass a model to the partial view (since the model is always set to the current <code><a href="/api/imetadata.html">IMetadata</a></code>). To pass data to a partial view, use the <code>ViewData</code> collection, setting a value just before rendering the partial and then getting it within the partial.</p>
<h2>HtmlHelpers</h2>
<p>It's possible to define custom HtmlHelpers in your configuration file and then use them within your Razor page. This provides a great way to specify common behavior for all your views. In the <a href="/getting-started/configuration#declarations">declarations section</a> of your configuration file, add a static class (the name doesn't matter, but convention suggests you call it <code>HtmlHelperExtensions</code> or <code>HtmlExtensions</code>). Then add static extension methods for <code>HtmlHelper</code>. For example:</p>
<pre class="prettyprint"><code>// Setup code
// ...
===
// Declaration code

public static class HtmlHelperExtensions
{
  public static string HelloWorld(this HtmlHelper helper)
  {
    return "Hello World!";
  }
}
---
// Configuration code
// ...
</code></pre>
<p>Then you can use it from your Razor pages by calling <code>@Html.HelloWorld()</code>.</p>
<h2>Base Page</h2>
<p>You can also specify a different base page for your Razor views. This lets you do things like define additional properties or behavior for every page. In the <a href="/getting-started/configuration#declarations">declarations section</a> of your configuration file, add an abstract class that derives from <code>BaseRazorPage</code>. Then page the <code>Type</code> of your new base class to the <code>Razor</code> module.</p>
<pre class="prettyprint"><code>// Setup code
// ...
===
// Declaration code

public abstract class MyRazorPage : BaseRazorPage
{
  public string HelloWorld
    {
    get { return "Hello World"; }
    }
}
---
// Configuration code

Pipelines.Add("Content",
    ReadFiles("*.cshtml"),
    Razor(typeof(MyRazorPage)),
    WriteFiles(".html")
);
</code></pre>
<p>Then you can use any methods, properties, etc. you defined in your base class directly within your Razor pages - I.e., <code>@HelloWorld</code>.</p>


                    </div>
                </div>
            </div>
        
        <hr>
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <p><small>Wyam is crafted by <a href="http://www.daveaglick.com">Dave Glick</a> and <a href="https://github.com/Wyamio/Wyam/graphs/contributors">other awesome contributors</a>. <a href="https://github.com/Wyamio/Wyam">Code on GitHub</a>. This site was entirely generated by Wyam. Check out <a href="https://github.com/Wyamio/Wyam.Web">the site code on GitHub</a> for a good example of a reasonably complicated Wyam site (and how easy it is to set up).</small></p>
                </div>
                <div class="col-md-3 text-right hidden-xs hidden-sm">                
                    <a class="btn btn-primary btn-xs" href="https://github.com/Wyamio/Wyam.Web/edit/master/Input/modules\razor.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit This Page</a>
                </div>
            </div>
        </div>        
    
    <script>
      $(function () {
        $("#sub-nav").tinyNav({
            active: 'active'
        });
      });
      
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-54470483-4', 'auto');
      ga('send', 'pageview');
    </script>
</body></html>